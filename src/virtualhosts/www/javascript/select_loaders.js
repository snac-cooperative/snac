!function(e,t){for(var r in t)e[r]=t[r]}(window,function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([,function(e,t,r){"use strict";
/**
 * Select Box Loaders
 *
 * Functions that can be used to replace select boxes on the edit page with
 * pretty-formatted versions using JQuery and Select2
 *
 * @author Robbie Hott
 * @license https://opensource.org/licenses/BSD-3-Clause BSD 3-Clause
 * @copyright 2015 the Rector and Visitors of the University of Virginia, and
 *            the Regents of the University of California
 */
function n(e,t,r,n){void 0===n&&(n=2),e.attr("id").endsWith(t)&&!e.attr("id").endsWith("ZZ")&&e.select2({ajax:{url:function(){var e=snacUrl+"/vocabulary?type="+r+"&id=";return e+=$("#constellationid").val()+"&version="+$("#version").val(),e+="&entity_type="+$("#entityType").val()},dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){return{results:e.results}},cache:!0},width:"100%",minimumInputLength:n,allowClear:!0,theme:"bootstrap",placeholder:"Select"})}r.r(t),r.d(t,"vocab_select_replace",(function(){return n})),r.d(t,"geoPlaceSearchResults",(function(){return a})),r.d(t,"geovocab_select_replace",(function(){return i})),r.d(t,"scm_source_select_replace",(function(){return l})),r.d(t,"select_replace_simple",(function(){return s})),r.d(t,"loadVocabSelectOptions",(function(){return c}));var a=null;function i(e,t){e.attr("id").endsWith(t)&&!e.attr("id").endsWith("ZZ")&&e.select2({ajax:{url:function(){var e=snacUrl+"/vocabulary?type=geo_place&format=term";return e+="&entity_type="+$("#entityType").val()},dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){if(e.results){a=e.results;var r=new Array;return e.results.forEach((function(e){r.push({id:e.id,text:e.name+" ("+e.administrationCode+", "+e.countryCode+")"})})),{results:r}}return{results:null}},cache:!0},width:"100%",minimumInputLength:2,allowClear:!0,theme:"bootstrap",placeholder:"Select"})}var o=null;function l(e,t){e.attr("id").endsWith(t)&&!e.attr("id").endsWith("ZZ")&&(e.select2({ajax:{url:function(){var e=snacUrl+"/vocabulary?type=ic_sources&id=";return e+=$("#constellationid").val()+"&version="+$("#version").val(),e+="&entity_type="+$("#entityType").val()},dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){o=e.results;var r=new Array;return e.results.forEach((function(e){r.push({id:e.id,text:e.displayName})})),{results:r}},cache:!0},width:"100%",minimumInputLength:0,allowClear:!0,theme:"bootstrap",placeholder:"Select"}),e.on("change",(function(e){var t=$(this).val(),r=$(this).attr("id").split("_");if(r.length>=6){var n=r[5],a=r[4],i=r[1];o.forEach((function(e){var r;e.id==t&&(void 0!==e.text?($("#scm_"+i+"_source_text_"+a+"_"+n).html((r=e.text,null!=r?(r+"").replace(/(\r\n|\n\r|\r|\n)/g,"<br>$1"):"")).removeClass("hidden"),$("#scm_"+i+"_source_text_"+a+"_"+n).closest(".panel-body").removeClass("hidden")):($("#scm_"+i+"_source_text_"+a+"_"+n).text("").addClass("hidden"),$("#scm_"+i+"_source_text_"+a+"_"+n).closest(".panel-body").addClass("hidden")),void 0!==e.uri?$("#scm_"+i+"_source_uri_"+a+"_"+n).html('<a href="'+e.uri+'" target="_blank">'+e.uri+"</a>"):$("#scm_"+i+"_source_uri_"+a+"_"+n).html(""),void 0!==e.citation?$("#scm_"+i+"_source_citation_"+a+"_"+n).html(e.citation).removeClass("hidden"):$("#scm_"+i+"_source_citation_"+a+"_"+n).html("").addClass("hidden"))}))}})))}function s(e){e.select2({width:"100%",allowClear:!0,theme:"bootstrap"})}function c(e,t,r){return $.get(snacUrl+"/vocabulary?type="+t).done((function(t){var n=t.results;e.select2({data:n,allowClear:!1,theme:"bootstrap",placeholder:r})}))}$(document).ready((function(){var e;$("select").each((function(){void 0!==$(this).attr("id")&&!1!==$(this).attr("id")&&(n($(this),"language_language_","language_code",1),n($(this),"language_script_","script_code",1),n($(this),"subject_","subject",4),n($(this),"function_","function",4),n($(this),"occupation_","occupation",4),n($(this),"entityType","entity_type",0))})),$("#affiliationid").exists()&&(e=$("#affiliationid"),$.get(snacUrl+"/vocabulary?type=affiliation").done((function(t){var r=t.results;e.select2({data:r,allowClear:!0,theme:"bootstrap",placeholder:"Select Affiliation"})}))),$("#reviewersearchbox").exists()&&function(e){null!=e&&e.select2({placeholder:"Reviewer Name or Email...",ajax:{url:function(){return snacUrl+"/user_search?role=Reviewer"},dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){return{results:e.results}},cache:!0},width:"100%",minimumInputLength:1,allowClear:!1,theme:"bootstrap"})}($("#reviewersearchbox"))}))}]));
//# sourceMappingURL=select_loaders.js.map